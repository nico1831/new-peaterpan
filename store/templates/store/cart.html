{% extends "store/layout.html" %}
{% load static %}

{% block body %}

<div class="cart-container">
    {% regroup transactions by product.owner as seller_groups %}

    {% if seller_groups %}
        {% for group in seller_groups %}
            <div class="top-left-section">
                <h4>Seller: {{ group.grouper.user.username }}</h4>
            </div>
            <div class="trans-cart-details">
                <ul>
                    {% for transaction in group.list %}
                        <li>
                            <strong>Product:</strong> {{ transaction.product.name }} |
                            <strong>Amount:</strong> {{ transaction.amount }} |
                            <strong>Date:</strong> {{ transaction.created_on|date:"Y-m-d H:i" }}
                        </li>
                    {% endfor %}
                </ul>
            </div>
            <hr>
        {% endfor %}
    {% else %}
        <p>No transactions found.</p>
    {% endif %} 
</div>

<style>
    .cart-container{
        margin-top: 80px;
        padding: 0 20px;
    }
    h4{
        color: #ccc;
    }
    li{
        color: #ccc;
    }
</style>

{% endblock %}
